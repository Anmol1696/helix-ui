(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{48312:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return c(64771)}])},64771:function(a,b,c){"use strict";c.r(b),c.d(b,{default:function(){return O}});var d=c(828),e=c(85893),f=c(67294),g=c(18972),h=c(86886),i=c(87357),j=c(15861),k=c(94054),l=c(83321),m=c(45984),n=c(85945),o=c(33340),p=function(){var a=(0,o.C)(function(a){return a.walletCryptoData}),b=a.etfs,c=a.selectedHelixFund;a.isLoading;var d=b[c];return(0,e.jsx)(i.Z,{children:d&&(0,e.jsx)(j.Z,{variant:"body1",mt:3,children:d.description})})},q=c(14924),r=c(90948),s=c(41796),t=c(27772),u=c(61958),v=c(73490),w=c(25675),x=c.n(w),y=function(a){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(a)},z=(0,r.ZP)(u._)(function(a){var b,c=a.theme;return b={},(0,q.Z)(b,"& .".concat(v._.row,".even"),{backgroundColor:c.palette.grey[200]}),(0,q.Z)(b,"& .".concat(v._.row),{"&:hover, &.Mui-hovered":{backgroundColor:(0,s.Fq)(c.palette.primary.main,.2),"@media (hover: none)":{backgroundColor:"transparent"}},"&.Mui-selected":{backgroundColor:(0,s.Fq)(c.palette.primary.main,.2+c.palette.action.selectedOpacity),"&:hover, &.Mui-hovered":{backgroundColor:(0,s.Fq)(c.palette.primary.main,.2+c.palette.action.selectedOpacity+c.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:(0,s.Fq)(c.palette.primary.main,.2+c.palette.action.selectedOpacity)}}}}),b}),A=function(){var a=(0,o.T)(),b=(0,o.C)(function(a){return a.cryptoData}),c=b.cryptoData,g=b.isLoading;(0,f.useEffect)(function(){a((0,t.P)())},[a]);var h=Object.values(c).reduce(function(a,b){return a+b.marketCap},0),i=Object.entries(c).map(function(a){var b,c,e=(0,d.Z)(a,2),f=e[0],g=e[1];return{id:f,icon:g.ticker.toLowerCase(),name:g.name,ticker:g.ticker,price:g.price,weight:(b=g.marketCap,+(b/(c=h)*100).toFixed(2)),marketCap:g.marketCap}}).sort(function(a,b){return b.marketCap-a.marketCap}),j=function(a){return a.indexRelativeToCurrentPage%2==0?"even":"odd"};return(0,e.jsx)("div",{style:{height:"auto",width:"auto"},children:(0,e.jsx)(z,{autoHeight:!0,columns:[{field:"icon",headerName:"",align:"center",headerAlign:"center",sortable:!1,renderCell:function(a){return(0,e.jsx)(x(),{src:"/".concat(a.row.ticker.toLowerCase(),".svg"),alt:a.row.ticker,width:24,height:24})},minWidth:24,headerClassName:"custom-header"},{field:"name",headerName:"Name",align:"left",headerAlign:"left",flex:1,minWidth:100,headerClassName:"custom-header"},{field:"ticker",headerName:"Ticker",align:"center",headerAlign:"center",flex:1,minWidth:75,headerClassName:"custom-header"},{field:"price",headerName:"Price",type:"number",align:"right",headerAlign:"right",flex:1,valueFormatter:function(a){return null==a.value?"":y(a.value)},minWidth:100,headerClassName:"custom-header"},{field:"marketCap",headerName:"Market Cap",type:"number",align:"right",headerAlign:"right",valueFormatter:function(a){return null==a.value?"":y(a.value)},flex:1,minWidth:175,headerClassName:"custom-header"},{field:"weight",headerName:"Weight",flex:1,align:"right",headerAlign:"right",minWidth:75,valueFormatter:function(a){var b=a.value;if("number"!=typeof b)return"";var c=b.toFixed(2);return"".concat(c,"%")},headerClassName:"custom-header"},],rows:i,loading:g,getRowClassName:j,components:{Toolbar:function(){return null}},sx:{boxShadow:2,"& .custom-header":{fontWeight:"bolder",fontSize:"1.1rem",backgroundColor:"#f7f7f7"},"& .MuiDataGrid-cell:hover":{color:"primary.main"}}})})},B=c(7906),C=c(295),D=c(53252),E=c(72882),F=c(53184),G=c(53816),H=c(35991),I=function(){var a=(0,o.T)(),b=(0,o.C)(function(a){return a.walletCryptoData}),c=b.etfs,g=b.selectedHelixFund,h=b.selectedToken,i=c[g];(0,f.useEffect)(function(){a((0,t.P)()),a((0,H.rK)(h.ticker))},[a]);var j=Object.entries((null==i?void 0:i.tokens)||{}).map(function(a){var b,c,e,f,g=(0,d.Z)(a,2),h=g[0],i=g[1];return b=h,c=i.currentWeight,e=i.targetWeight,f=i.buyFee+i.sellFee,{token:b,currentWeight:c,targetWeight:e,fees:f}}),k=function(b){a((0,H.rK)(b))},l=(0,o.C)(function(a){return a.buySellState}).buttonColor,m=(0,o.C)(function(a){return a.buySellState}).buttonHighlightColor,n=function(a){var b,c=null===(b=null==i?void 0:i.tokens[a])|| void 0===b?void 0:b.selected,d=(0,s.Fq)(l,.3),e=(0,s.Fq)(m,.1);return{"&:last-child td, &:last-child th":{border:0},backgroundColor:c?d:"inherit","&:hover, &.Mui-hovered":{backgroundColor:c?d:e,cursor:"pointer"},"&.Mui-selected":{backgroundColor:c?d:"inherit",color:c?"white":"black"}}},p={fontWeight:"500",fontSize:"0.9rem"},q={display:"flex",alignItems:"center",gap:"8px"};return(0,e.jsx)("div",{children:(0,e.jsx)(E.Z,{sx:{maxHeight:"100%"},children:(0,e.jsxs)(B.Z,{"aria-label":"simple table",children:[(0,e.jsx)(F.Z,{children:(0,e.jsxs)(G.Z,{style:{backgroundColor:"#f7f7f7"},children:[(0,e.jsx)(D.Z,{style:p,children:"Token"}),(0,e.jsx)(D.Z,{style:p,align:"right",children:"Current Weight"}),(0,e.jsx)(D.Z,{style:p,align:"right",children:"Target Weight"}),(0,e.jsx)(D.Z,{style:p,align:"right",children:"Fees"})]})}),(0,e.jsx)(C.Z,{component:"tbody",children:j.map(function(a){return(0,e.jsxs)(G.Z,{sx:n(a.token),onClick:function(){return k(a.token)},children:[(0,e.jsx)(D.Z,{component:"th",scope:"row",sx:n(a.token),children:(0,e.jsxs)("div",{style:q,children:[(0,e.jsx)(x(),{src:"/".concat(a.token.toLowerCase(),".svg"),alt:a.token,width:24,height:24}),(0,e.jsx)("span",{children:a.token})]})}),(0,e.jsxs)(D.Z,{align:"right",sx:n(a.token),children:[a.currentWeight," "]}),(0,e.jsx)(D.Z,{align:"right",sx:n(a.token),children:a.targetWeight}),(0,e.jsx)(D.Z,{align:"right",sx:n(a.token),children:a.fees})]},a.token)})})]})})})},J=c(61903),K=c(64637),L=c(20339),M=function(){var a=(0,o.C)(function(a){return a.buySellState}).buySell,b=(0,o.C)(function(a){return a.buySellState}).buttonColor,c=(0,o.C)(function(a){return a.buySellState}).buttonHighlightColor,d=(0,o.C)(function(a){return a.walletCryptoData}).selectedHelixFund,g=(0,o.C)(function(a){return a.walletCryptoData}).selectedToken,h=(0,f.useState)(0),j=h[0],k=h[1],m=(0,f.useState)(0),n=m[0],p=m[1],q=(0,o.T)(),r=function(a){var b=parseFloat(a.target.value);k(b),p(0)},s=function(a){var b=parseFloat(a.target.value);p(b),k(0)},t=function(){if(g){var b=g.ticker,c=g.buyFee,e=g.sellFee,f="buy"===a?n:j,h="buy"===a?c:e,i=g.price,l=f*h;q((0,H.dc)({etfTicker:d,quantity:f})),"buy"===a?q((0,L.Gq)({ticker:d,tokenTicker:b,amount:f,tokenPrice:i,fee:l})):q((0,L.qb)({ticker:d,tokenTicker:b,amount:f,tokenPrice:i,fee:l})),k(0),p(0)}};return(0,e.jsxs)("div",{children:[(0,e.jsxs)(i.Z,{sx:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"},children:[(0,e.jsx)(l.Z,{variant:"contained",sx:{width:"50%",height:"55px",backgroundColor:"buy"===a?b:"#bfbfbf",color:"buy"===a?"white":"black",fontWeight:"bold","&:hover":{background:c}},onClick:function(){return q((0,K.AD)("buy"))},children:"Buy"}),(0,e.jsx)(l.Z,{variant:"contained",sx:{width:"50%",height:"55px",backgroundColor:"buy"===a?"#bfbfbf":b,color:"buy"===a?"black":"white",fontWeight:"bold","&:hover":{background:c}},onClick:function(){return q((0,K.AD)("sell"))},children:"Sell"})]}),(0,e.jsxs)(i.Z,{component:"form",sx:{"& > :not(style)":{m:1,width:"100%"}},noValidate:!0,autoComplete:"off",children:[(0,e.jsx)(J.Z,{id:"filled-basic",label:"Pay",variant:"filled",inputProps:{style:{height:"50px"}},value:j||"",onChange:r}),(0,e.jsx)(J.Z,{id:"filled-basic",label:"Receive",variant:"filled",inputProps:{style:{height:"50px"}},value:n||"",onChange:s}),(0,e.jsx)(J.Z,{id:"filled-basic",label:"Fees",variant:"filled",inputProps:{style:{height:"50px"}}})]}),(0,e.jsx)(l.Z,{variant:"contained",sx:{width:"100%",height:"60px",backgroundColor:b,fontWeight:"bold","&:hover":{background:c}},onClick:t,children:"buy"===a?"buy":"sell"})]})},N=function(){var a=(0,o.C)(function(a){return a.buySellState}).buySell,b=(0,o.C)(function(a){return a.buySellState}).buttonColor,c=(0,o.C)(function(a){return a.buySellState}).buttonHighlightColor,f=(0,o.C)(function(a){return a.walletCryptoData}),j=f.etfs,l=f.selectedHelixFund,m=(0,o.T)(),p=function(a){m((0,H.i6)(a.target.value))},q=Object.entries(j).map(function(b){var c=(0,d.Z)(b,2),f=c[0],h=c[1];return(0,e.jsxs)(g.Z,{value:f,children:["buy"===a?"Buy":"Sell"," ",h.name]},f)});return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(i.Z,{sx:{maxHeight:"60px",backgroundColor:b,marginBottom:"0.2rem","&:hover":{background:c}},children:(0,e.jsx)(k.Z,{fullWidth:!0,children:(0,e.jsx)(n.Z,{labelId:"market-name",id:"market-name",value:l,label:"Market",onChange:p,sx:{color:"white",fontWeight:"bold",textAlign:"center"},children:q})})}),(0,e.jsxs)(h.ZP,{container:!0,spacing:2,p:3,children:[(0,e.jsx)(h.ZP,{item:!0,xs:12,children:(0,e.jsx)(i.Z,{sx:{display:"flex",justifyContent:"center",alignItems:"center",mb:2}})}),(0,e.jsx)(h.ZP,{item:!0,xs:6,children:(0,e.jsx)(I,{})}),(0,e.jsx)(h.ZP,{item:!0,xs:6,children:(0,e.jsx)(M,{})})]})]})};function O(){var a=(0,o.T)(),b=(0,o.C)(function(a){return a.walletCryptoData}),c=b.etfs,q=b.selectedHelixFund;(0,f.useEffect)(function(){document.title="Buy and Sell"},[]);var r=(0,d.Z)(f.useState(!1),2),s=r[0],t=r[1],u=function(){t(!0),a((0,K.AD)("buy")),a((0,H.rK)("btc"))},v=function(){t(!0),a((0,K.AD)("sell")),a((0,H.rK)("btc"))},w=function(){return t(!1)},x=function(b){a((0,H.i6)(b.target.value))},y=Object.entries(c).map(function(a){var b=(0,d.Z)(a,2),c=b[0],f=b[1];return(0,e.jsx)(g.Z,{value:c,children:f.name},c)});return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(h.ZP,{container:!0,mt:2,children:(0,e.jsxs)(h.ZP,{item:!0,xs:12,children:[(0,e.jsxs)(i.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,e.jsx)(j.Z,{variant:"h4",children:"Buy and Sell Helix Funds"}),(0,e.jsx)(k.Z,{sx:{width:"80%",mt:3},children:(0,e.jsx)(n.Z,{labelId:"market-name",id:"market-name",value:q,onChange:x,sx:{background:"#3F51B5",color:"white",fontSize:18,fontWeight:"bold",textAlign:"center",borderRadius:3,"&:hover":{background:"#1565c0"}},children:y})}),(0,e.jsx)(p,{})]}),(0,e.jsxs)(i.Z,{sx:{display:"flex",justifyContent:"center"},mt:3,children:[(0,e.jsx)(l.Z,{variant:"contained",sx:{backgroundColor:"#3F51B5",mr:2,"&:hover":{background:"#1565c0"}},onClick:u,children:"Buy HTM"}),(0,e.jsx)(m.Z,{open:s,onClose:w,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,e.jsx)(i.Z,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4},children:(0,e.jsx)(N,{})})}),(0,e.jsx)(l.Z,{variant:"contained",sx:{backgroundColor:"#d32f2f","&:hover":{background:"#ef5350"}},onClick:v,children:"Sell HTM"})]})]})}),(0,e.jsx)(h.ZP,{container:!0,mt:2,children:(0,e.jsx)(h.ZP,{item:!0,xs:12,children:(0,e.jsxs)("div",{style:{margin:"20px 20px 50px 50px"},children:[(0,e.jsx)("div",{style:{margin:"0px 0px 25px 0px",textAlign:"center"},children:(0,e.jsx)(j.Z,{variant:"h5",children:"Cryptocurrency Market Caps"})}),(0,e.jsx)("div",{children:(0,e.jsx)(A,{})})]})})})]})}}},function(a){a.O(0,[132,774,888,179],function(){var b;return a(a.s=48312)}),_N_E=a.O()}])